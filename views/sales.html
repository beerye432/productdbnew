<html>
<head>
 <link rel = "stylesheet" type = "text/css" href = "/stylesheets/bootstrap.css">
	<title>Sales Analytics</title>
</head>
<body>

		<div id = "name">

		</div>

		<div id = "links">

		</div>

		<div id = "options">

			<form id = "more" action = "/getmore" method = "post">
				<button type="submit" name="reset" value="reset">Reset Table</button>
			</form>

			<button onclick = "refresh()"> Refresh Table </button>

		</div>

		<div id = "salestable">

			<table border = "1" id = "salesTBody">

				<tr id = "productRow">
					<th></th>
				</tr>

				<!-- {{#each users}}
					<tr>
						<td id = "name">{{name}} (${{this.total}})</td>
						{{#each this.purchases}}
							<td id = '{{this.pname}}{{this.name}}'>${{this.total}}</td>
						{{/each}}
					</tr>
				{{/each}} -->

			</table>

		</div>

		<script src="//code.jquery.com/jquery-1.10.2.js"></script>
		<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>

		<script>

			$(document).ready(function(){

				//get product rows
				$.get("/getProductCol", function(data){

					console.log(data.row1);

					console.log(data.row2);

					for(var i = 0; i < data.length; i++){
						$("#productRow").append("<th id = "+data[i].id+data[i].name+">"+data[i].name+"("+data[i].total.toFixed(2)+")</th>");
					}
				});

				// $.get("/getStateRow", function(data){

				// 	//append a row, plus a header
				// 	for(var i = 0; i < data.length; i++){

				// 		$("#salesTBody").append("<tr id = "+data[i].name+"><td id = "+data[i].name+"row>"+data[i].name+"("+data[i].total.toFixed(2)+")</td></tr>");

				// 	}
				// });
			});



			function refresh(){

				document.getElementById("366MN").innerText = "$0";
				document.getElementById("366MN").style.color = "red";
				document.getElementById("334MN").innerText = "$0";
				document.getElementById("334MN").style.color = "red";
				document.getElementById("407MN").innerText = "$0";
				document.getElementById("407MN").style.color = "red";
			}

		</script>
	</body>
</html>